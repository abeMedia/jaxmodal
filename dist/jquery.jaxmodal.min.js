/*! jaxModal - v0.1.0 - 2014-10-25
* https://github.com/abemedia/jaxmodal
* Copyright (c) 2014 Adam Bouqdib; Licensed GPL-2.0 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery,window,document,void 0)}(function(a,b,c){function d(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var e="jaxmodal",f={id:e,title:"Modal Title",content:"Modal Content",actions:["cancel","save"],template:'<div class="<%=this._name%> modal fade" id="<%=id%>" tabindex="-1" role="dialog" aria-labelledby="<%=id%>Label" aria-hidden="true">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>        <h4 class="modal-title" id="<%=id%>Label"><%=title%></h4>      </div>      <div class="modal-body" id="<%=id%>Body"><%=content%></div>      <div class="modal-footer" id="<%=id%>Actions">        <% for ( var i = 0; i < actions.length; i++ ) { %>        <button type="button" class="btn <%=actions[i].class%>"        <% for ( attribute in actions.data ) { %> data-<%=attribute%>="<%=actions.data[attribute]%>"<% } %>>        <%=actions[i].title%></button>        <% } %>      </div>    </div>  </div></div>'},g={};a.extend(d.prototype,{init:function(){var b=a.extend({},this.options,a(this.element).data()),c=a(this.render(b.template,b)),d=b.actions;a(this.element).on("click",function(){for(var f=0;f<d.length;f++){"string"==typeof d[f]&&(d[f]=a.fn[e].actions[d[f]]);var g=d[f]["class"],h=a('<a href="#" class="btn '+(g?g:"btn-default")+'">'+d[f].title+"</a>");b.actions[f].class&&h.attr("class",d[f].class),b.actions[f].href&&h.attr("href",d[f].href),b.actions[f].onclick&&h.on("click",d[f].onclick),c.find(".modal-footer").append(h)}a("#"+b.id).length>0&&a("#"+b.id)[0]!==c[0]?a("#"+b.id).replaceWith(c):a("body").append(c),a("#"+b.id).show()})},render:function(a,b){var d=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):g[a]=g[a]||this.render(c.getElementById(a).innerHTML);return b?d(b):d}}),a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))}),this},a.fn[e].actions={cancel:{title:"Close","class":"btn-default",onclick:function(){a("."+e).modal("hide")},data:{dismiss:"modal"}},save:{title:"Save","class":"btn-primary",onclick:function(){a("."+e).children("form").submit()}},next:{title:"Continue","class":"btn-primary",onclick:function(){a("."+e)}}}});